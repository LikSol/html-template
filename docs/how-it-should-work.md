# Суть html-template

Основная задача html-template - предоставить такой инструмент для создания 
верстки из дизайн-макетов, который позволяет
 
 * добиться создания верстки из независимых компонентов, пригодных для повторного использования,
 * произвести контроль результата по техническим критериям (валидация) и визуальному
 соответствию макетам,
 * (косвенная, но важная задача) создать базу компонентов, пригодных для повторного
 использования в других проектах.
  
Html-template предоставляет инструменты для выполнения всех этапов верстки:

 1. Создать по дизайн-макетам техническое задание на верстку.
 2. Предоставить верстальщику техническое задание в виде, удобном для
  понимания задачи и поэтапного ее выполнения.
 3. Обеспечить для верстальщика возможность создания компонентов и страниц
   из них.
 4. Дать возможность технического контроля (валидации) результата.
 5. Дать возможность визуального контроля результата.

# Проблема

Дизайн-макеты обычно представляют собой отрисованные в PSD целиком страницы
в различных разрешениях. Поведение компонентов (при наведении мышки, при клике)
отрисовывается на некоторых страницах, выбранных дизайнером на свое усмотрение.

При верстке просто страниц целиком особых сложностей нет. 5 страниц в 4 разрешениях - это
20 макетов, и задача верстки и ревью 20 макетов решается известным способом.

Когда речь заходит о компонентах, появляется сложность. На каждой странице
могут быть компоненты, в том числе адаптивные, отображение которых зависит
от ширины страницы, а также компоненты с поведением при наведении/клике мышью.
Если на каждой странице 10 компонентов, то в результате получается 
5 страниц &times; 4 разрешения &times; 10 компонентов = 200 элементов.
Технический контроль для проверки выполнения требований требует регистрации
этих компонентов в конфигурации проекта. После выполнения задания необходим их
визуальный контроль.

Одна только разметка всех компонентов на всех макетах заняла бы много времени.

Поэтому необходимо предоставить такой способ создания технического задания,
чтобы нужно было описать только минимально необходимое для понимания задачи 
и последующего контроля количество элементов. 

С другой стороны, необходимо предоставить верстальщику задание в таком виде, 
чтобы ничего не было упущено. Если он открывает задание на страницу, а компоненты
на ней не размечены, он не сможет узнать, какие к ним предъявляются требования.

Таким образом, сложность задачи заключается в том, чтобы, с одной стороны,
не требовалась полная разметка всех компонентов на всех макетах, а с другой стороны, чтобы
верстальщику при работе с любой страницей было понятно, какие на ней присутствуют
компоненты и какие к ним предъявляются требования.

## Решение

Решение этой задачи заключается в указании для верстальщика определенной
последовательности выполнения задания.

Как правило, на различных страницах многие элементы повторяются - шапка, 
футер, хлебные крошки и т. п.

Также на одной и той же адаптивной странице, представленной в разных
вариантах по ширине, на ее самом широком варианте присутствуют все компоненты, 
а на самом узком некоторые компоненты не отображаются, некоторые меняют
внешний вид, остальные же просто перестариваются.

Поэтому верстальщику первой задачей нужно сделать верстку страницы с максимальным
количеством компонентов (т. е. самый широкий вариант самой сложной страницы).
Далее - варианты этой же страницы в меньшей ширине. Далее - прочие страницы, также
от большей ширины к меньшей.

Чтобы сократить количество элементов, которые необходимо разметить, и количество комментариев к ним,
можно применить правило: размечать необходимо только то, что нельзя понять просто глядя на макет, 
сравнивая его с результатом верстки и выявляя несоответствия. А так как на макете отображено все,
за исключением имени компонента, то следовательно отметить нужно только имя компонента при первой 
встрече с ним.

Таким образом, компонент необходимо отметить на макете когда:

 * Это новый компонент, который ранее не встречался.
 
<!---
 * Это демонстрация того, как должен вести себя компонент с разным контентом или при взаимодействии
 с пользователем. Например:
   * Карточка товара:
       * один вариант - карточка товара с горизонтальной картинкой,
       * другой вариант - с вертикальной картинкой,
       * третий вариант - с названием в 20 символов (помещается на одну строку),
       * четвертый вариант - с названием в 50 символов (помещается на две строки),
       * пятый вариант - с бейджиком "новинка",
       * шестой вариант - со зачеркнутой старой ценой.
   * Корзина
     * с товарами,
     * без товаров.
   * Переключатель
     * включен,
     * выключен.
   * Кнопка
     * обычная,
     * наведена мышка
   * Меню
     * обычное,
     * раскрытое.
   * И т. п.
   
   При этом не требуется размечать компонент на макете меньшей ширины, когда у него изменился внешний вид, 
   но это изменение произошло только по причине изменения ширины (например, на слайдере точки переехали со 
   слайдера под слайдер или добавились стрелочки вправо-влево). Верстальщик и так это обнаружит в процессе
   верстки по этому макету, просто сравшивая макет этой ширины с результатом.
--->

В идеале в других случаях разметка компонента не требуется. Цель разметки компонента в том, чтобы при первой
встрече с ним на макете можно было увидеть его и понять, где он находится, как выглядит и какой контент
отображает.

Все остальные варианты применения компонента и альтернативные варианты его отображения можно обнаружить путем
сравнения результата верстки с макетом (по каждой ширине) и выявления несоответствий. То есть, 100% 
визуальный контроль обеспечивается и без необходимости размечать все варианты отображения компонента. 

В сложных случаях (например, когда два компонента похожи, и нужно подчеркнуть, что в конкретном месте требуется
использовать именно конкретный компонент), можно провести дополнительную разметку. 

В итоге верстальщик выполняет верстку постранично, покомпонентно, для каждого
компонента может увидеть все значимые варианты его представления (даже когда не все такие варианты размечены),
и когда сталкивается с тем компонентом, который не размечен на текущей странице,
но который он верстал ранее, просто использует его.

Таким образом, процесс разметки выглядит примерно так:

 1. Просматриваем главную страницу в самом широком варианте, размечаем только место первого появления
 компонента на странице.
 2. Отсматриваем остальные макеты главной страницы в порядке уменьшения ширины на предмет новых компонентов, 
 размечаем, если таковые находятся.
 3. Для каждой следующей страницы отсматриваем ее макеты в порядке уменьшения ширины,
 размечаем компоненты, которые не размечали ранее.
 4. После сдачи работы визуальный контроль осуществляем простым сравнением каждого макета с результатом верстки.

## Для верстальщика

Идея предоставления верстальщику технического задания в удобном виде 
заключается в следующем.

 1. При верстке по дизайн-макету задача заключается в создании страниц.
   * Следовательно, в первую очередь верстальщик должен видеть список страниц,
    которые ему необходимо создать.
 2. Важна последовательность верстки страниц.
   * Следовательно, последовательность верстки страниц должна быть определена
   при отображении задания.
 3. Важна последовательность верстки одной и той же страницы в разных ширинах.
   * Следовательно, последовательность верстки каждой ширины отдельной страницы
   должна быть также определена.
 4. Страницы создаются с использованием компонентов.
   * Следовательно, верстальщик должен при верстке страницы понимать,
     какие компоненты требуется на ней использовать.
   * И следовательно, открыв задание по странице по определенной ширине, он должен 
   увидеть ее макет, на котором размечены компоненты.
 5. У компонентов и страниц есть требования.
    * Следовательно, верстальщик должен в момент просмотра задания по странице
    иметь возможность увидеть эти требования.
    
Таким образом, задание верстальщику должно формироваться как:

 * Первая страница, самый широкий вариант. При открытии видим макет с размеченными компонентами.
   * Первая страница, менее широкий вариант, открываем - видим новые компоненты, новое поведение
   * Первая страница, еще менее широкий вариант...
   * ...
 * Вторая страница, самый широкий вариант...
    * Вторая страница, менее широкий вариант...
    * ...
 * Третья страница...
    * ...
 * ...
 
По нажатии на компонент видим, на каких страницах он размечен и требования к нему.